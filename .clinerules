# ConfiguraÃ§Ã£o do Agente AI

## ğŸ”’ Carregamento ObrigatÃ³rio

Antes de QUALQUER aÃ§Ã£o de cÃ³digo, o agente DEVE:

1. Ler TODAS as 15 leis em `.agent/rules/` na ordem numÃ©rica
2. Verificar qual skill Ã© relevante atravÃ©s do YAML Frontmatter
3. Carregar apenas o corpo completo da skill se necessÃ¡rio
4. Aplicar as restriÃ§Ãµes inegociÃ¡veis das leis relevantes

## ğŸ“š Sistema de Skills (Lazy Loading)

### AtivaÃ§Ã£o Inteligente

- Ler primeiro: `name` e `description` do YAML Frontmatter
- Decidir relevÃ¢ncia: skill se aplica Ã  tarefa atual?
- Carregar completo: somente se ativada, ler o body markdown completo

### Exemplo de Frontmatter

```yaml
---
name: "Security Best Practices"
description: "Enforce zero-trust architecture and credential isolation"
triggers:
  - "authentication"
  - "API keys"
  - "database access"
---
```

## âš¡ OtimizaÃ§Ã£o de Contexto

- Limite inicial: 8K tokens para anÃ¡lise de skills
- Carregamento incremental: +4K tokens por skill ativada
- Prioridade: Rules > Skills ativas > Skills inativas

## ğŸš« RestriÃ§Ãµes Absolutas

- Lei 01: Nunca exponha Service Role Keys no frontend
- Lei 03: Company_id sempre extraÃ­do da sessÃ£o, nunca do request
- Lei 04: API Keys sempre criptografadas em repouso
- Lei 02: Async first - proibido cÃ³digo bloqueante em FastAPI
- Lei 15: Protocolo PPREVC - Planejar antes de executar cÃ³digo
